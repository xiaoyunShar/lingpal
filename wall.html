<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è´¡çŒ®å¢™</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', Arial, sans-serif;
      background: linear-gradient(135deg, #fef8f9, #fff8f0);
      color: #333;
      overflow: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .logo {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      left: 20px;
      width: 100px;
      height: 100px;
      border-radius: 15px;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    nav {
      background-color: #ffffffcc;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1em;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      position: sticky;
      height: 60px;
      top: 0;
      z-index: 100;
      gap: 0.7em;
    }
    nav .logo {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      margin-left: 0.7em;
      transition: transform 0.3s;
      display: flex;
      align-items: center;
      object-fit: contain;
    }
    nav .logo:hover {
      transform: scale(1.1);
    }
    nav a {
      text-decoration: none;
      color: #666;
      font-weight: bold;
      border-radius: 12px;
      padding: 0.5em 1em;
      transition: background 0.3s;
    }
    nav a:hover,
    nav a.active {
      background-color: #ffe4ec;
      color: #d6006b;
    }
    nav .feedback-btn {
      background-color: #d6006b;
      color: white;
      padding: 0.5em 1.2em;
      border-radius: 12px;
      transition: all 0.3s;
    }
    nav .feedback-btn:hover {
      background-color: #ff1481;
      color: white;
      transform: translateY(-2px);
    }
    .container {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      padding: 1em;
    }
    .header {
      flex-shrink: 0;
      text-align: center;
      margin-bottom: 1em;
    }
    .search-bar {
      margin: 0.5em 0;
    }
    .search-bar input {
      padding: 0.6em 1.2em;
      font-size: 1em;
      border-radius: 20px;
      border: 2px solid #ffd8ec;
      width: 50%;
      max-width: 300px;
      transition: all 0.3s;
    }
    .search-bar input:focus {
      outline: none;
      border-color: #d6006b;
      box-shadow: 0 0 10px rgba(214, 0, 107, 0.1);
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.2em;
      padding: 0 1em;
      max-width: 1200px;
      margin: 0 auto;
      height: 100%;
      align-items: stretch;
    }
    .card {
      border-radius: 18px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      padding: 1.2em;
      box-sizing: border-box;
      font-size: 0.95em;
      line-height: 1.6;
      position: relative;
      opacity: 0;
      transform: translateY(20px);
      animation: cardIn 0.3s ease-out forwards;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      will-change: transform, opacity;
    }
    .card.fadeOut {
      animation: cardOut 0.3s ease-out forwards;
    }
    .card.student {
      background: linear-gradient(135deg, #ffe1f0, #fff);
      border-left: 4px solid #d6006b;
    }
    .card.parent {
      background: linear-gradient(135deg, #e3f2ff, #fff);
      border-left: 4px solid #0066cc;
    }
    @keyframes cardIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes cardOut {
      to {
        opacity: 0;
        transform: translateY(10px);
      }
    }
    .subtitle {
      font-size: 1.2em;
      margin: 0.3em 0;
      color: #888;
      height: 1.5em;
      opacity: 1;
      transition: all 0.5s ease-in-out;
      position: relative;
    }
    .subtitle.fade-out {
      opacity: 0;
      transform: translateY(-10px);
    }
    .subtitle.fade-in {
      opacity: 1;
      transform: translateY(0);
    }
    h1 {
      color: #d6006b;
      font-size: 2.2em;
      margin: 0;
    }
    @media (max-height: 700px) {
      nav {
        padding: 0.5em;
      }
      nav a {
        padding: 0.3em 0.8em;
        font-size: 0.9em;
      }
      h1 {
        font-size: 1.8em;
      }
      .subtitle {
        font-size: 1em;
        margin: 0.2em 0;
      }
      .card {
        padding: 1em;
        font-size: 0.85em;
      }
      .search-bar input {
        padding: 0.4em 1em;
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>
  <nav>
    <a href="wall.html" class="active">è´¡çŒ®å¢™</a>
    <a href="firstweek.html">ç¬¬ä¸€å‘¨</a>
    <a href="secondweek.html">ç¬¬äºŒå‘¨</a>
    <a href="thirdweek.html">ç¬¬ä¸‰å‘¨</a>
    <a href="fourthweek.html">ç¬¬å››å‘¨</a>
    <a href="fifthweek.html">ç¬¬äº”å‘¨</a>
    <a href="create.html">åˆ›é€ è¥</a>
    <a href="https://haw559vl4g6.feishu.cn/share/base/form/shrcnv5J6pzwnldo4f83SKxMKke" class="feedback-btn" target="_blank">ç•™è¨€</a>
    <img src="lingpal.jpg" alt="LingPal Logo" class="logo">
  </nav>

  <div class="container">
    <div class="header">
      <h1>å¤§å®¶çš„ä¼˜ç§€è¡¨ç°</h1>
      <div class="subtitle" id="subtitle">ä½ ä»¬çš„åŠ›é‡ï¼Œè®©é¡¹ç›®æ›´çœŸå®ï¼</div>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="è¾“å…¥å§“åå…³é”®è¯è¿›è¡Œæœç´¢...">
      </div>
    </div>
    <div class="grid" id="cardContainer"></div>
  </div>

  <script>
    const messages = [
  // ä»¥ä¸‹å†…å®¹æå–è‡ªã€Šè¡¨æ‰¬.pdfã€‹ï¼šå­¦ç”Ÿè¡¨æ‰¬ä¸å®¶é•¿å»ºè®®
  "ğŸ“ å†¯æ¢“ç‚åŒå­¦å¤šæ¬¡æäº¤ä»»åŠ¡ï¼Œå®ŒæˆåŠæ—¶è®¤çœŸï¼Œç§¯ææ€è€ƒAIé—®é¢˜ï¼Œè¿˜é¢å¤–å®Œæˆäº†é—®å·åˆ†æå’Œç»Ÿè®¡ä»»åŠ¡ï¼Œè¡¨ç°éå¸¸ä¼˜ç§€ã€‚",
  "ğŸ“ å†‰ä¸€è¯ºåŒå­¦ä½œä¸šå®Œæˆç§¯æåŠæ—¶ï¼Œè¿˜å¯¹AIçš„å›ç­”æå‡ºäº†æ¢ç©¶æ€§çš„é—®é¢˜ï¼Œæ˜¯æœ¬å‘¨çš„äº®ç‚¹ä¹‹ä¸€ã€‚",
  "ğŸ“ æŸ¯å­åŒå­¦åœ¨æœ¬å‘¨ä½œä¸šä¸­è¡¨ç°ç§¯æï¼Œä¸è±†åŒ…äº¤æµä¸­å±•ç°å‡ºè‡ªå·±çš„æ€è€ƒï¼Œéå¸¸å‡ºè‰²ã€‚",
  "ğŸ“ å´”çš“èƒåŒå­¦è®¤çœŸå®Œæˆä½œä¸šï¼Œä¸AIäº¤æµå¯Œæœ‰æ€è€ƒï¼Œå—åˆ°äº†è€å¸ˆç‰¹åˆ«è¡¨æ‰¬ã€‚",
  "ğŸ“ ç±³ä¹åŒå­¦ç§¯æå‚ä¸å„é¡¹ä»»åŠ¡ï¼Œå¹¶æå‡ºé‡åŒ–é”»ç‚¼æ€ç»´çš„å»ºè®®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç´§è·Ÿæ¯å‘¨è¿›åº¦çš„ä¼˜ç§€å­¦å‘˜ä¹‹ä¸€ã€‚",
  "ğŸ“ ç‹æ€é½åŒå­¦è®¤çœŸå®Œæˆä»»åŠ¡ï¼Œå¹¶æŒ‡å‡ºäº†AIè¯­éŸ³è¡¨è¾¾ã€å›ç­”çµæ´»æ€§ç­‰æ–¹é¢çš„é—®é¢˜ï¼Œè¡¨ç°å‡ºç»†è‡´è§‚å¯ŸåŠ›å’Œäº§å“æ€ç»´ã€‚",
  "ğŸ“ é‡‘å¯Œæˆã€æœˆäº®ã€ç¿Ÿå¿ç„¶ã€å¼ å¦¤ç›ã€æŸ¯è´¤ç«‹ã€å¼ å®¸ç†™åŒå­¦å‡è¢«ç‚¹åè¡¨æ‰¬ä¸ºå®Œæˆä»»åŠ¡åŠæ—¶ã€åé¦ˆæ·±å…¥çš„ä¼˜ç§€å­¦å‘˜ã€‚",
  "ğŸ“ èµµä¿Šæ·»åŒå­¦ç§¯æå‚ä¸é—®å·è°ƒç ”ï¼Œè¿˜å‚ä¸äº§å“è®¨è®ºï¼Œå¤šæ¬¡åœ¨ä¼˜ç§€å­¦å‘˜ä¸­å‡ºç°ã€‚",
  "ğŸ“ å­™ä¾ç¨‹åŒå­¦æäº¤ä½œä¸šåŠæ—¶ï¼Œå¹¶æå‡ºæ™ºèƒ½ç©å¶å½¢æ€å»ºè®®ï¼Œæ˜¾ç¤ºå‡ºæ·±åº¦å‚ä¸ã€‚",
  "ğŸ“ ç½—éœæ—¸ã€ç‹é¹ç¿åŒå­¦è¢«åˆ—å…¥è¡¨ç°æ´»è·ƒã€ä½œä¸šç´§è·ŸèŠ‚å¥çš„ä¼˜ç§€å­¦å‘˜åå•ã€‚",
  "ğŸ“ é™ˆéœ–è¹ŠåŒå­¦å®Œæˆäº†è°ƒç ”ä»»åŠ¡ï¼Œå¹¶è¢«åˆ—å…¥å®Œæˆè¶…é¢ä½œä¸šçš„ä¼˜ç§€ä»£è¡¨ã€‚",
  "ğŸ“ è‹‘è¾›è”šã€Nealã€éƒ­ä¸€ç»«ã€åˆ˜æ³½é›¨ã€æä½³ç¾åŒå­¦å¤šæ¬¡è¢«æåŠä¸ºç´§è·Ÿä»»åŠ¡ã€è¡¨ç°çªå‡ºçš„ç§¯æå‚ä¸è€…ã€‚",
  "ğŸ“ è±†è±†åŒå­¦é€’äº¤ä¸¤ä»½æ‰‹ç¨¿ï¼Œç§¯æä½¿ç”¨AIå·¥å…·ä¸çˆ¸çˆ¸åˆä½œåˆ¶ä½œï¼Œå¹¶å°è¯•ç»†åŒ–å›¾åƒé¢œè‰²è¡¨ç°ï¼Œè¡¨ç°å‡ºæå¼ºçš„åˆ›é€ åŠ›ã€‚",
  "ğŸ“ å¶ç”°æ–°æˆåŒå­¦åˆšåŠ å…¥å°±å®Œæˆè°ƒç ”ä»»åŠ¡ï¼Œå¹¶äº²è‡ªç”¨é—®å·æ˜Ÿåˆ¶ä½œè°ƒæŸ¥é—®å·ï¼Œæ˜¾ç¤ºå‡ºæå¼ºçš„ä¸»åŠ¨æ€§ã€‚",
  "ğŸ“ æ€æˆåŒå­¦åœ¨é—®å·ç»Ÿè®¡ã€æ´»åŠ¨å‚ä¸ä¸­è¡¨ç°æ´»è·ƒï¼Œæ˜¯ç§¯æå‚ä¸çš„ä»£è¡¨ä¹‹ä¸€ã€‚",
  "ğŸ“ è¢ç…œä¿®åŒå­¦åœ¨ä½œä¸šä¸­é€‰æ‹©é‡æ–°æ‰‹ç»˜è®¾è®¡è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ï¼Œæ˜¾ç¤ºå‡ºç‹¬ç«‹æ€è€ƒä¸åˆ›æ„è¡¨è¾¾èƒ½åŠ›ã€‚",
  "ğŸ“ å¼ æ˜è¿œã€è°¢å°§ç‘¶ã€æå½¦äº¨åŒå­¦åœ¨AIå¯¹è¯è®°å½•ä¸­è¡¨ç°å‡ºè§‚å¯Ÿæ•é”ï¼Œèƒ½ä»è¯­éŸ³è¯†åˆ«ã€å›ç­”å†…å®¹ç­‰è§’åº¦æå‡ºæ”¹è¿›å»ºè®®ã€‚",
  "ğŸ“ å­™é˜…æ›¦ã€é™¶ä¹ä¸ºã€æ½˜ç¿åŒå­¦åœ¨AIäº’åŠ¨ä¸­ä½“ç°å‡ºè‰¯å¥½çš„ç†è§£èƒ½åŠ›å’Œè¡¨è¾¾èƒ½åŠ›ï¼Œåé¦ˆå†…å®¹ç”ŸåŠ¨è¯¦å°½ï¼Œè·è€å¸ˆå¥½è¯„ã€‚",
  "ğŸ“ ææ–‡ç‘¾åŒå­¦æäº¤äº†è¯¦å®çš„AIé—®å·åˆ†æï¼Œå¹¶å¯¹å¡é²é²çš„è¯­éŸ³è¯†åˆ«å’Œäº¤äº’è®¾è®¡æå‡ºä¸ªæ€§åŒ–æ„è§ã€‚",
  "ğŸ“ éƒæ¢“æ–åŒå­¦å±•ç°å‡ºæå¼ºæƒ³è±¡åŠ›å’Œåˆ›æ„ï¼Œæ•¢äºç‹¬ç«‹æ„æ€å¹¶è¡¨è¾¾ï¼Œæ˜¯å¯Œæœ‰æ¢ç´¢ç²¾ç¥çš„å­©å­ã€‚",
  "ğŸ“ é˜³éš†åŒå­¦è„‘æ´å¤§å¼€ï¼Œæå‡ºé­”æ³•æ‰«å¸šã€ç™¾å˜åŒ…ç­‰é…ä»¶ï¼Œæå…·åˆ›æ„ã€‚",
  "ğŸ“ çƒçƒåŒå­¦ç§¯æå‚ä¸å§“åè´´ä¸ªæ€§åŒ–è®¾è®¡ï¼Œä½œå“å¯Œæœ‰ç»†èŠ‚ä¸è¶£å‘³ã€‚",
  "ğŸ“ æ®µå­Ÿæ¡“ã€è¢æ—åŒå­¦å®Œæˆä¸ªæ€§åŒ–è®¾è®¡ä»»åŠ¡ï¼Œå…³æ³¨ç»†èŠ‚è¡¨è¾¾ã€‚",
  "ğŸ“ å®‹ç›ˆå¢¨ã€æ¢ç±³ã€ä¹ƒé¦¨ã€æ‚ é›…åŒå­¦åœ¨æœé¥°ã€DIYã€è£…é¥°åŠŸèƒ½æ–¹é¢æå‡ºäº†åˆ›æ–°æ€§å»ºè®®ï¼Œä½“ç°ç‹¬ç«‹æ„æ€ã€‚",
  "ğŸ“ ç‹æ˜±è½©ã€æ½˜ç¿åŒå­¦æäº¤ä½œä¸šå®Œæ•´ï¼Œå†…å®¹æ‰å®ï¼Œå‚ä¸ç§¯æã€‚",
  "ğŸ“ å¼ å–„è¾¾ã€å¶ä»¥æ¸…ã€å®å®ã€ææã€æå¦å¿ƒã€ææˆè¹Šã€é»„æ™ºçã€ç”˜é’°æ³½ã€å•ä¿Šæ¯…ã€ä½•æ¢“æºã€æ¨ç‚æºªåŒå­¦å…¨éƒ¨åœ¨\"ä¼˜ç§€ä½œä¸šåå•\"ä¸­è¢«æ˜ç¡®ç‚¹åè¡¨æ‰¬ã€‚",
  "ğŸ“ Cindyã€æç£Šã€æ–½æ¬£ä¹‰ã€åºæ³•æ¾ã€è‹ç‰§ä¹‹ã€åˆ˜æ¢“èŒ—ã€æ™®é‘«æ¡ã€è°·é’æ´›ã€è”ºæ¢“è½©ã€å‘¨æ˜¾ç»˜ã€å­™è‹¥åŸã€å­™ä¾ç¨‹åŒå­¦å‡ä¸ºå®Œæˆåº¦é«˜ã€å‚ä¸æ·±å…¥çš„ä¼˜ç§€ä»£è¡¨ã€‚",
  "ğŸ“ ç”°ç’§ç‘¶åŒå­¦èƒ½è¯†åˆ«AIå¯¹è¯ä¸­çš„ä¼˜åŠ£å¹¶è¿›è¡Œåé¦ˆï¼Œæ˜¯å…·å¤‡é€»è¾‘åˆ†æåŠ›çš„å­¦ç”Ÿã€‚",
  "ğŸ“ ä½™ç­±æœåŒå­¦åé¦ˆAIè¯­è¨€ç¼–æ’ä¸é¡ºç•…ï¼Œå…·å¤‡æ‰¹åˆ¤æ€§å®¡ç¾ã€‚",
  "ğŸ“ ä¸€è‹‡åŒå­¦å‡ºç°åœ¨ä¼˜ç§€ä½œä¸šæˆªå›¾åå•ä¸­ï¼Œä½“ç°ç§¯æå‚ä¸ã€‚",
  
  // å®¶é•¿å»ºè®®
  "ğŸ§ æ¨å²šè¶Šå®¶é•¿æ·±åº¦å‚ä¸æ¯å‘¨ä»»åŠ¡ï¼Œäº²è‡ªé™ªä¼´å­©å­ä½“éªŒäº§å“ç»ç†è§’è‰²ï¼Œç§¯æé¼“åŠ±å­©å­åŠ¨æ‰‹å®è·µä¸è¡¨è¾¾ã€‚",
  "ğŸ§ å¼ æ˜è¿œã€è°¢å°§ç‘¶å®¶é•¿è¯¦ç»†è®°å½•AIäº¤äº’è¿‡ç¨‹ä¸­çš„ä¸è¶³ï¼Œå¯¹é¡¹ç›®æ”¹è¿›æä¾›çœŸå®ä¸€æ‰‹åé¦ˆã€‚",
  "ğŸ§ ææ³¯ç¡•å®¶é•¿åé¦ˆAIè¯­éŸ³è¯†åˆ«ã€é‡å¯åé‡å¤ä»‹ç»ç­‰é—®é¢˜ï¼Œå¹¶å»ºè®®å¡é²é²å¢å¼ºæŒç»­è®°å¿†èƒ½åŠ›ã€‚",
  "ğŸ§ æœ±ä¸€ä¼Šå®¶é•¿å»ºè®®å›¾æ–‡ç»“åˆçš„è¡¨è¾¾æ–¹å¼é€‚é…ä½å¹´çº§å­©å­ï¼Œå¼ºè°ƒå¯è¯»æ€§çš„é‡è¦æ€§ã€‚",
  "ğŸ§ æ©™æ©™å®¶é•¿æå‡ºå¡é²é²å½¢è±¡éœ€ç»Ÿä¸€ã€é…è‰²æ›´é¥±å’Œã€é¿å…\"ç›—ç‰ˆæ„Ÿ\"ï¼Œå¹¶å°è¯•æŒ‡å¯¼AIç”Ÿæˆ3Dç‰ˆæœ¬ã€‚",
  "ğŸ§ ç´«æš®å®¶é•¿æä¾›äº†æ‰‹å†™ç»Ÿè®¡æ³•å»ºè®®ï¼ŒååŠ©é¡¹ç›®åœ¨è°ƒæŸ¥å·¥å…·å±‚é¢æ›´è´´è¿‘ä½é¾„ä½¿ç”¨è€…ã€‚",
  "ğŸ§ çªå¦ˆé€šè¿‡å®é™…æ“ä½œï¼Œè¾…åŠ©å­©å­å®ŒæˆAIäº¤äº’åˆ†æï¼Œå¹¶ç§¯æä¸ç¾¤å†…å…¶ä»–å®¶é•¿åˆ†äº«ä½¿ç”¨æŠ€å·§ã€‚",
  "ğŸ§ å¾æ™‹å®¶é•¿é€šè¿‡å­©å­è®°å½•åé¦ˆè¡¨æ ¼ï¼Œé—´æ¥ä½“ç°å®¶åº­åœ¨åˆ†æä»»åŠ¡ä¸­çš„å‚ä¸åº¦ã€‚",
  "ğŸ§ æ¢ç±³å¦ˆå¦ˆååŠ©å­©å­è®°å½•å¥½åè¯„ä»·ï¼Œæ˜¯ç†æ€§å‚ä¸å‹å®¶é•¿ä»£è¡¨ã€‚",
  "ğŸ§ å†¯æ¢“ç‚å®¶é•¿å¸Œæœ›åŒæ­¥äº§å“è®¨è®ºä¸ä¿®æ­£è¿›åº¦ï¼Œæå€¡è®©å­©å­æ·±å…¥ç†è§£æ™ºèƒ½ä½“åˆ›å»ºè¿‡ç¨‹ã€‚",
  "ğŸ§ èŸèŸå¦ˆå¦ˆå»ºè®®è¯¾ç¨‹æ›´åŠ æ¸¸æˆåŒ–ï¼ŒæŒ‡å‡ºå½“å‰æ–‡æ¡£æ•´åˆæ–¹å¼å¯¹ä½é¾„å®¶åº­æœ‰æ“ä½œè´Ÿæ‹…ã€‚",
  "ğŸ§ Ginaå¦ˆå¦ˆå¯¹æ“ä½œå·¥å…·æœ‰æ·±å…¥ç†è§£ï¼Œä¸»åŠ¨åœ¨ç¾¤å†…å¸®åŠ©ä»–äººï¼Œæ¨åŠ¨å®¶é•¿äº’åŠ©æ°›å›´ã€‚",
  "ğŸ§ ä»”ä»”ï¼ˆç‹æ¢“æ·³ï¼‰å®¶é•¿å»ºè®®å¡é²é²å¤–è§‚èƒ½å®šæœŸæ›´æ–°ï¼Œè®©å­©å­æœ‰å‡çº§æœŸå¾…ã€‚",
  "ğŸ§ æ±æ±å¦ˆå¦ˆå»ºè®®è¯¾ç¨‹ä»»åŠ¡æå‰å‘å¸ƒï¼Œå¹¶é™ä½ä½œä¸šå¤æ‚åº¦ï¼Œä»¥é€‚åº”ä½é¾„å­©å­çš„å‚ä¸èŠ‚å¥ã€‚",
  "ğŸ§ å…°æµ·æ—å®¶é•¿åé¦ˆä»»åŠ¡æœ‰è¶£ï¼Œä½†å­©å­è¿˜æ— æ³•è¾¨åˆ«AIè¾“å‡ºçš„çœŸå®æ€§ï¼Œå»ºè®®åŠ å¼ºå¼•å¯¼ã€‚",
  "ğŸ§ Ginaå¦ˆå¦ˆè™½ä¸ºå·¥å…·å°ç™½ï¼Œä½†ç§¯æäº¤æµåé¦ˆï¼Œä¸ºå…¶ä»–å®¶é•¿æä¾›äº†æœ‰ä»·å€¼å»ºè®®ã€‚",
  "ğŸ§ è±Œè±†èšå¦ˆå¦ˆå»ºè®®èµ‹äºˆå­©å­ \"èŒä½å¤´è¡”\" ä»¥å¢å¼ºä»»åŠ¡ä»£å…¥æ„Ÿï¼Œå¹¶æå‡ºçº¿ä¸‹å‘é—®å·çš„å®è·µæ“ä½œæ³•ã€‚",
  "ğŸ§ æœˆäº®å¦ˆå¦ˆå¸Œæœ›æäº¤æµç¨‹æ›´æ¸…æ™°ã€æä¾›æ›´å‹å¥½çš„è§†é¢‘æŒ‡å¼•ï¼Œå¹¶ä¸»åŠ¨å¸®åŠ©å…¶ä»–å®¶é•¿è§£å†³å·¥å…·é—®é¢˜ã€‚",
  "ğŸ§ å†‰ä¸€è¯ºå®¶é•¿å»ºè®®ä½œä¸šå†…å®¹å¯åŠ å…¥å¼•å¯¼ç­–ç•¥ï¼Œæå‡æ‹“å±•èƒ½åŠ›ã€‚",
  "ğŸ§ Emily Laiå®¶é•¿åé¦ˆä½œä¸šæäº¤æ“ä½œå¤ªå¤æ‚ï¼Œå½±å“å­©å­å…´è¶£ï¼Œå»ºè®®ä¼˜åŒ–æµç¨‹ã€‚",
  "ğŸ§ åäºŒï¼ˆå¶ç”°æ–°æˆï¼‰å®¶é•¿è¡¨ç¤ºçœŸå®é¡¹ç›®å­¦ä¹ èƒ½è¿ç§»å­¦æ ¡æ‰€å­¦ï¼Œæ¯”åˆ·é¢˜æ›´æœ‰æ•ˆï¼Œå­©å­éå¸¸æœ‰å‚ä¸æ„Ÿã€‚",
  "ğŸ§ éƒ‘æ˜æ³½å®¶é•¿æ„Ÿè°¢è€å¸ˆå€¾å¬å»ºè®®ï¼Œè®¤ä¸ºä½œä¸šæµç¨‹è¶Šæ¥è¶Šå¥½ï¼Œæ™®é€šå®¶é•¿ä¹Ÿèƒ½å‚ä¸å…¶ä¸­ã€‚",
  "ğŸ§ ç­±æ²…çˆ¸çˆ¸å‹‡äºè·³å‡ºèˆ’é€‚åœˆï¼Œå…¨ç¨‹ååŠ©å­©å­ã€åˆ†äº«ç»éªŒï¼Œæ˜¯å€¼å¾—è¡¨æ‰¬çš„çˆ¸çˆ¸ä»£è¡¨ã€‚"
];

    const subtitles = [
      "ä½ ä»¬çš„åŠ›é‡ï¼Œè®©é¡¹ç›®æ›´çœŸå®ï¼",
      "æ¯ä¸€ä»½åé¦ˆï¼Œéƒ½æ˜¯æ”¹å˜çš„ç§å­",
      "è¿™ä¸æ˜¯è¡¨æ‰¬ä¿¡ï¼Œè€Œæ˜¯æˆ˜æŠ¥ï¼šä½ åšçš„ï¼ŒçœŸæœ‰ç”¨ï¼",
      "å­©å­ä»¬çš„å£°éŸ³ï¼ŒçœŸçš„è¢«å¬è§äº†",
      "ä½ ä¸æ˜¯å‚ä¸è€…ï¼Œæ˜¯æ¨åŠ¨è€…",
      "å…±åˆ›ï¼Œä¸åªæ˜¯å£å·",
      "ä»å‚ä¸åˆ°å¼•é¢†ï¼šä½ å·²æ˜¯é¡¹ç›®çš„ä¸€éƒ¨åˆ†",
      "ä½ ä»¬çš„æ¯ä¸€æ­¥ï¼Œéƒ½æ˜¯é¡¹ç›®çš„è½¬æŠ˜ç‚¹",
      "è¿™ä¸€åˆ‡çš„æ”¹å˜ï¼Œéƒ½æœ‰ä½ çš„åå­—",
      "ä¸æ˜¯è§‚ä¼—ï¼Œæ˜¯å…±åˆ›è€…ï¼šè¿™å°±æ˜¯ä½ çš„ä½ç½®"
    ];

    let searchTerm = '';
    let isSearching = false;

    // éšæœºæ‰“ä¹±æ•°ç»„
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // è¿‡æ»¤æ¶ˆæ¯
    function filterMessages(messages, searchTerm) {
      if (!searchTerm) return messages;
      return messages.filter(msg => msg.toLowerCase().includes(searchTerm.toLowerCase()));
    }

    // ä¼˜åŒ–çš„æ¸²æŸ“å‡½æ•°
    function renderBatch() {
      const container = document.getElementById('cardContainer');
      
      // åˆ›å»ºæ–‡æ¡£ç‰‡æ®µï¼Œå‡å°‘DOMæ“ä½œ
      const fragment = document.createDocumentFragment();
      
      // è¿‡æ»¤æ¶ˆæ¯
      const filteredMessages = filterMessages(messages, searchTerm);
      
      // æ¸…ç©ºå®¹å™¨
      requestAnimationFrame(() => {
        container.innerHTML = '';
        
        if (filteredMessages.length === 0) {
          const noResults = document.createElement('div');
          noResults.style.gridColumn = '1 / -1';
          noResults.style.textAlign = 'center';
          noResults.style.padding = '2em';
          noResults.style.color = '#666';
          noResults.textContent = 'æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å†…å®¹';
          container.appendChild(noResults);
          return;
        }

        // é€‰æ‹©è¦æ˜¾ç¤ºçš„æ¶ˆæ¯
        const selectedMessages = filteredMessages.length <= 12 
          ? shuffle([...filteredMessages])
          : shuffle([...filteredMessages]).slice(0, 12);
        
        // æ‰¹é‡åˆ›å»ºå¡ç‰‡
        selectedMessages.forEach((message, index) => {
          const card = document.createElement('div');
          card.className = `card ${message.startsWith('ğŸ“') ? 'student' : 'parent'}`;
          card.style.animationDelay = `${index * 0.05}s`; // å‡å°‘å»¶è¿Ÿæ—¶é—´
          card.textContent = message;
          fragment.appendChild(card);
        });

        // ä¸€æ¬¡æ€§æ·»åŠ æ‰€æœ‰å¡ç‰‡
        container.appendChild(fragment);

        // å¦‚æœä¸æ˜¯æœç´¢çŠ¶æ€æˆ–æœç´¢ç»“æœè¶…è¿‡12æ¡ï¼Œç»§ç»­è½®æ’­
        if (!isSearching || filteredMessages.length > 12) {
          const timeoutId = setTimeout(() => {
            if (container.isConnected) { // æ£€æŸ¥å®¹å™¨æ˜¯å¦ä»åœ¨DOMä¸­
              const cards = container.querySelectorAll('.card');
              cards.forEach(card => {
                card.classList.add('fadeOut');
              });

              setTimeout(() => {
                if (container.isConnected) { // å†æ¬¡æ£€æŸ¥
                  renderBatch();
                }
              }, 500);
            }
          }, 3000);

          // å­˜å‚¨timeout IDä»¥ä¾¿æ¸…ç†
          container.dataset.timeoutId = timeoutId;
        }
      });
    }

    // åˆ‡æ¢å‰¯æ ‡é¢˜
    function rotateSubtitles() {
      const subtitle = document.getElementById('subtitle');
      let currentIndex = 0;
      
      function updateSubtitle() {
        subtitle.classList.add('fade-out');
        
        setTimeout(() => {
          currentIndex = (currentIndex + 1) % subtitles.length;
          subtitle.textContent = subtitles[currentIndex];
          subtitle.classList.remove('fade-out');
          subtitle.classList.add('fade-in');
          
          setTimeout(() => {
            subtitle.classList.remove('fade-in');
          }, 500);
        }, 500);
      }

      // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªå‰¯æ ‡é¢˜
      subtitle.textContent = subtitles[0];
      
      // æ¯4ç§’æ›´æ–°ä¸€æ¬¡å‰¯æ ‡é¢˜
      setInterval(updateSubtitle, 4000);
    }

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      const searchInput = document.getElementById('searchInput');
      let searchTimeout;
      
      // ä¼˜åŒ–çš„æœç´¢å¤„ç†å‡½æ•°
      const handleSearch = () => {
        const newSearchTerm = searchInput.value.trim();
        if (searchTerm === newSearchTerm) return; // é¿å…é‡å¤æœç´¢
        
        searchTerm = newSearchTerm;
        isSearching = searchTerm !== '';
        
        // æ¸…é™¤ä¹‹å‰çš„timeout
        const container = document.getElementById('cardContainer');
        const previousTimeout = container.dataset.timeoutId;
        if (previousTimeout) {
          clearTimeout(previousTimeout);
        }
        
        renderBatch();
      };

      // æ·»åŠ æœç´¢åŠŸèƒ½
      searchInput.addEventListener('input', (e) => {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(handleSearch, 200); // å‡å°‘é˜²æŠ–æ—¶é—´
      });

      renderBatch();
      rotateSubtitles();
    });
  </script>
</body>
</html>
